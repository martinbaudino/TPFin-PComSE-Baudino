<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" lang="en-US">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=11"/>
<meta name="generator" content="Doxygen 1.9.5"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>TPFin_PComSE: src/port.c File Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="resize.js"></script>
<script type="text/javascript" src="navtreedata.js"></script>
<script type="text/javascript" src="navtree.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr id="projectrow">
  <td id="projectalign">
   <div id="projectname">TPFin_PComSE<span id="projectnumber">&#160;0.1</span>
   </div>
   <div id="projectbrief">Driver SPI para ADS1018 en STM32F429ZI</div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.9.5 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
var searchBox = new SearchBox("searchBox", "search/",'.html');
/* @license-end */
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(function() {
  initMenu('',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
/* @license-end */
</script>
<div id="main-nav"></div>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(document).ready(function(){initNavTree('port_8c.html',''); initResizable(); });
/* @license-end */
</script>
<div id="doc-content">
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<div id="MSearchResults">
<div class="SRPage">
<div id="SRIndex">
<div id="SRResults"></div>
<div class="SRStatus" id="Loading">Loading...</div>
<div class="SRStatus" id="Searching">Searching...</div>
<div class="SRStatus" id="NoMatches">No Matches</div>
</div>
</div>
</div>
</div>

<div class="header">
  <div class="summary">
<a href="#define-members">Macros</a> &#124;
<a href="#func-members">Functions</a>  </div>
  <div class="headertitle"><div class="title">port.c File Reference</div></div>
</div><!--header-->
<div class="contents">
<div class="textblock"><code>#include &quot;<a class="el" href="_a_d_s1018_8h_source.html">ADS1018.h</a>&quot;</code><br />
</div><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a id="define-members" name="define-members"></a>
Macros</h2></td></tr>
<tr class="memitem:a38c0ef58e0c764b3578846d1dadda106"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="port_8c.html#a38c0ef58e0c764b3578846d1dadda106">ADS1018_CFG_SS</a>&#160;&#160;&#160;(0x8000)</td></tr>
<tr class="separator:a38c0ef58e0c764b3578846d1dadda106"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:abdbd3c00cca5fbf559d773b53d5df629"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="port_8c.html#abdbd3c00cca5fbf559d773b53d5df629">ADS1018_CFG_CH1</a>&#160;&#160;&#160;(0x0000)</td></tr>
<tr class="separator:abdbd3c00cca5fbf559d773b53d5df629"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a6181ec340081d90fe9fea14e260cc488"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="port_8c.html#a6181ec340081d90fe9fea14e260cc488">ADS1018_CFG_CH2</a>&#160;&#160;&#160;(0x3000)</td></tr>
<tr class="separator:a6181ec340081d90fe9fea14e260cc488"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a19344a1fb09123d7e066329e318feb78"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="port_8c.html#a19344a1fb09123d7e066329e318feb78">ADS1018_CFG_PGA</a>&#160;&#160;&#160;(0x0E00)</td></tr>
<tr class="separator:a19344a1fb09123d7e066329e318feb78"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:adbdc79191d3457b0502b4bdad19923c2"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="port_8c.html#adbdc79191d3457b0502b4bdad19923c2">ADS1018_CFG_MODE</a>&#160;&#160;&#160;(0x0100)</td></tr>
<tr class="separator:adbdc79191d3457b0502b4bdad19923c2"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a1a8a738d739b1f65d18870bb9948cacd"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="port_8c.html#a1a8a738d739b1f65d18870bb9948cacd">ADS1018_CFG_DR</a>&#160;&#160;&#160;(0x00A0)</td></tr>
<tr class="separator:a1a8a738d739b1f65d18870bb9948cacd"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a0fe2ec0a57f311bed07cd2659d033aa4"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="port_8c.html#a0fe2ec0a57f311bed07cd2659d033aa4">ADS1018_CFG_TINT</a>&#160;&#160;&#160;(0x0010)</td></tr>
<tr class="separator:a0fe2ec0a57f311bed07cd2659d033aa4"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:adfac05b5e7bd88c37802563d309511c5"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="port_8c.html#adfac05b5e7bd88c37802563d309511c5">ADS1018_CFG_PU_EN</a>&#160;&#160;&#160;(0x0008)</td></tr>
<tr class="separator:adfac05b5e7bd88c37802563d309511c5"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a958e94ac8ad4326d8079542bb1ca1c7c"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="port_8c.html#a958e94ac8ad4326d8079542bb1ca1c7c">ADS1018_CFG_NOP</a>&#160;&#160;&#160;(0x0002)</td></tr>
<tr class="separator:a958e94ac8ad4326d8079542bb1ca1c7c"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a4bde934c3634ebfbcbb6f48ad79ecdd1"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="port_8c.html#a4bde934c3634ebfbcbb6f48ad79ecdd1">ADS1018_CFG_RSV</a>&#160;&#160;&#160;(0x0001)</td></tr>
<tr class="separator:a4bde934c3634ebfbcbb6f48ad79ecdd1"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a85fda3522e69a1bf85f7dcd97b6023a1"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="port_8c.html#a85fda3522e69a1bf85f7dcd97b6023a1">MAX_TIMEOUT</a>&#160;&#160;&#160;0xFFFF</td></tr>
<tr class="separator:a85fda3522e69a1bf85f7dcd97b6023a1"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a id="func-members" name="func-members"></a>
Functions</h2></td></tr>
<tr class="memitem:a38a074e9bd8eda193cc0b12043d2234c"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="port_8c.html#a38a074e9bd8eda193cc0b12043d2234c">init_ads_spi</a> (void)</td></tr>
<tr class="memdesc:a38a074e9bd8eda193cc0b12043d2234c"><td class="mdescLeft">&#160;</td><td class="mdescRight">Inicializaci贸n del m贸dulo de hardware SPI4, conectado a ADS1018.  <a href="port_8c.html#a38a074e9bd8eda193cc0b12043d2234c">More...</a><br /></td></tr>
<tr class="separator:a38a074e9bd8eda193cc0b12043d2234c"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aa74630614e18c3c845aa309464b539ab"><td class="memItemLeft" align="right" valign="top">uint16_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="port_8c.html#aa74630614e18c3c845aa309464b539ab">tx_rx_spi</a> (uint16_t configWord)</td></tr>
<tr class="memdesc:aa74630614e18c3c845aa309464b539ab"><td class="mdescLeft">&#160;</td><td class="mdescRight">Transmisi贸n y recepci贸n de datos con el ADS1018 por SPI4.  <a href="port_8c.html#aa74630614e18c3c845aa309464b539ab">More...</a><br /></td></tr>
<tr class="separator:aa74630614e18c3c845aa309464b539ab"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aa7aad8f6f6cd4186ca5db864f4786a1c"><td class="memItemLeft" align="right" valign="top">uint8_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="port_8c.html#aa7aad8f6f6cd4186ca5db864f4786a1c">read_ads_data</a> (uint16_t *readBuffer, uint8_t buffSize)</td></tr>
<tr class="memdesc:aa7aad8f6f6cd4186ca5db864f4786a1c"><td class="mdescLeft">&#160;</td><td class="mdescRight">Convierte los canales con manejo de se帽ales de bajo nivel.  <a href="port_8c.html#aa7aad8f6f6cd4186ca5db864f4786a1c">More...</a><br /></td></tr>
<tr class="separator:aa7aad8f6f6cd4186ca5db864f4786a1c"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<h2 class="groupheader">Macro Definition Documentation</h2>
<a id="abdbd3c00cca5fbf559d773b53d5df629" name="abdbd3c00cca5fbf559d773b53d5df629"></a>
<h2 class="memtitle"><span class="permalink"><a href="#abdbd3c00cca5fbf559d773b53d5df629">&#9670;&#160;</a></span>ADS1018_CFG_CH1</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define ADS1018_CFG_CH1&#160;&#160;&#160;(0x0000)</td>
        </tr>
      </table>
</div><div class="memdoc">
<p >Input multiplexer configuration: 000 =&gt; AINP is AIN0 and AINN is AIN1 </p>

</div>
</div>
<a id="a6181ec340081d90fe9fea14e260cc488" name="a6181ec340081d90fe9fea14e260cc488"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a6181ec340081d90fe9fea14e260cc488">&#9670;&#160;</a></span>ADS1018_CFG_CH2</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define ADS1018_CFG_CH2&#160;&#160;&#160;(0x3000)</td>
        </tr>
      </table>
</div><div class="memdoc">
<p >Input multiplexer configuration: 011 =&gt; AINP is AIN2 and AINN is AIN3 </p>

</div>
</div>
<a id="a1a8a738d739b1f65d18870bb9948cacd" name="a1a8a738d739b1f65d18870bb9948cacd"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a1a8a738d739b1f65d18870bb9948cacd">&#9670;&#160;</a></span>ADS1018_CFG_DR</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define ADS1018_CFG_DR&#160;&#160;&#160;(0x00A0)</td>
        </tr>
      </table>
</div><div class="memdoc">
<p >Data rate: 110 =&gt; 3300 SPS </p>

</div>
</div>
<a id="adbdc79191d3457b0502b4bdad19923c2" name="adbdc79191d3457b0502b4bdad19923c2"></a>
<h2 class="memtitle"><span class="permalink"><a href="#adbdc79191d3457b0502b4bdad19923c2">&#9670;&#160;</a></span>ADS1018_CFG_MODE</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define ADS1018_CFG_MODE&#160;&#160;&#160;(0x0100)</td>
        </tr>
      </table>
</div><div class="memdoc">
<p >Device operating mode: 1 =&gt; Power-down and single-shot mode </p>

</div>
</div>
<a id="a958e94ac8ad4326d8079542bb1ca1c7c" name="a958e94ac8ad4326d8079542bb1ca1c7c"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a958e94ac8ad4326d8079542bb1ca1c7c">&#9670;&#160;</a></span>ADS1018_CFG_NOP</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define ADS1018_CFG_NOP&#160;&#160;&#160;(0x0002)</td>
        </tr>
      </table>
</div><div class="memdoc">
<p >NO OP - control if data are written: 01 =&gt; Valid data; update Config register </p>

</div>
</div>
<a id="a19344a1fb09123d7e066329e318feb78" name="a19344a1fb09123d7e066329e318feb78"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a19344a1fb09123d7e066329e318feb78">&#9670;&#160;</a></span>ADS1018_CFG_PGA</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define ADS1018_CFG_PGA&#160;&#160;&#160;(0x0E00)</td>
        </tr>
      </table>
</div><div class="memdoc">
<p >Programmable Gain Amplifier config: 111 =&gt; FSR is 卤0.256 V </p>

</div>
</div>
<a id="adfac05b5e7bd88c37802563d309511c5" name="adfac05b5e7bd88c37802563d309511c5"></a>
<h2 class="memtitle"><span class="permalink"><a href="#adfac05b5e7bd88c37802563d309511c5">&#9670;&#160;</a></span>ADS1018_CFG_PU_EN</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define ADS1018_CFG_PU_EN&#160;&#160;&#160;(0x0008)</td>
        </tr>
      </table>
</div><div class="memdoc">
<p >Pullup resistor enable on DOUT/DRDY: 1 =&gt; Pullup resistor enabled </p>

</div>
</div>
<a id="a4bde934c3634ebfbcbb6f48ad79ecdd1" name="a4bde934c3634ebfbcbb6f48ad79ecdd1"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a4bde934c3634ebfbcbb6f48ad79ecdd1">&#9670;&#160;</a></span>ADS1018_CFG_RSV</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define ADS1018_CFG_RSV&#160;&#160;&#160;(0x0001)</td>
        </tr>
      </table>
</div><div class="memdoc">
<p >Reserved: Writing 0 or 1 has no effect </p>

</div>
</div>
<a id="a38c0ef58e0c764b3578846d1dadda106" name="a38c0ef58e0c764b3578846d1dadda106"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a38c0ef58e0c764b3578846d1dadda106">&#9670;&#160;</a></span>ADS1018_CFG_SS</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define ADS1018_CFG_SS&#160;&#160;&#160;(0x8000)</td>
        </tr>
      </table>
</div><div class="memdoc">
<p >Single-shot conversion Start </p>

</div>
</div>
<a id="a0fe2ec0a57f311bed07cd2659d033aa4" name="a0fe2ec0a57f311bed07cd2659d033aa4"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a0fe2ec0a57f311bed07cd2659d033aa4">&#9670;&#160;</a></span>ADS1018_CFG_TINT</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define ADS1018_CFG_TINT&#160;&#160;&#160;(0x0010)</td>
        </tr>
      </table>
</div><div class="memdoc">
<p >Temperature sensor mode: 1 =&gt; Temperature sensor mode </p>

</div>
</div>
<a id="a85fda3522e69a1bf85f7dcd97b6023a1" name="a85fda3522e69a1bf85f7dcd97b6023a1"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a85fda3522e69a1bf85f7dcd97b6023a1">&#9670;&#160;</a></span>MAX_TIMEOUT</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define MAX_TIMEOUT&#160;&#160;&#160;0xFFFF</td>
        </tr>
      </table>
</div><div class="memdoc">
<p >Retardo m谩ximo para Tx/Rx por SPI </p>

</div>
</div>
<h2 class="groupheader">Function Documentation</h2>
<a id="a38a074e9bd8eda193cc0b12043d2234c" name="a38a074e9bd8eda193cc0b12043d2234c"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a38a074e9bd8eda193cc0b12043d2234c">&#9670;&#160;</a></span>init_ads_spi()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">bool init_ads_spi </td>
          <td>(</td>
          <td class="paramtype">void&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Inicializaci贸n del m贸dulo de hardware SPI4, conectado a ADS1018. </p>
<p >Seg煤n la hoja de datos el ADS1018 trabaja con SPI en Modo 1, con el reloj en bajo cuando est谩 inactivo (CPOL=0), muestrea la se帽al de entrada en flanco negativo y activa la de salida en el flanco positivo del reloj (CPHA=1).</p>
<dl class="section return"><dt>Returns</dt><dd>Verdadero o falso, depende del resultado de la inicializaci贸n del perif茅rico SPI4 </dd></dl>

</div>
</div>
<a id="aa7aad8f6f6cd4186ca5db864f4786a1c" name="aa7aad8f6f6cd4186ca5db864f4786a1c"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aa7aad8f6f6cd4186ca5db864f4786a1c">&#9670;&#160;</a></span>read_ads_data()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">uint8_t read_ads_data </td>
          <td>(</td>
          <td class="paramtype">uint16_t *&#160;</td>
          <td class="paramname"><em>readBuffer</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint8_t&#160;</td>
          <td class="paramname"><em>buffSize</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Convierte los canales con manejo de se帽ales de bajo nivel. </p>
<p >Adici贸n ex post: Para leer las mediciones del ADS1018 se debe enviar una palabra de configuraci贸n que dispara la conversi贸n anal贸gica a digital. Minentras eso sucede, se recibe el valor de la conversi贸n anterior. Por ello en esta configuraci贸n de disparo 煤nico, se env铆ean 4 palabras de configuraci贸n, se descarta el primer dato, y la cuarta palabra de configuraci贸n es un valor bobo solo para leer el resultado de la conversi贸n.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">readBuffer</td><td>Memoria reservada para lectura de datos </td></tr>
    <tr><td class="paramname">buffSize</td><td>Cantidad de valores a leer </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd></dd></dl>
<p >Palabras de configuraci贸n para cada lectura del ADS1018 0: Adquisici贸n del Canal 2, sin lectura 1: Adquisici贸n del Canal 1, lectura del Canal 2 2: Adquisici贸n del sensor de temperatura interno, lectura del Canal 1 3: Lectura del sensor de temperatura interno</p>
<p >Env铆a la primera palabra de configuraci贸n. Se descarta el dato recibido porque es de la medici贸n anterior</p>
<p >Env铆a sucesivas palabras de configuraci贸n y recupera datos 煤tiles</p>
<p >Espera que indique dato nuevo disponible</p>
<p >El ADS1018 es un ADC de 12 bits y devuelve valores adquiridos en una palabra de 16 bits justificados a la izquierda: es necesario corregir esto antes de devolver los datos.</p>
<p >Al finalizar el ciclo de las 4 conversiones se deshabilita el m贸dulo SPI</p>
<p >Devuelve siempre que se leyeron 3 datos</p>

</div>
</div>
<a id="aa74630614e18c3c845aa309464b539ab" name="aa74630614e18c3c845aa309464b539ab"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aa74630614e18c3c845aa309464b539ab">&#9670;&#160;</a></span>tx_rx_spi()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">uint16_t tx_rx_spi </td>
          <td>(</td>
          <td class="paramtype">uint16_t&#160;</td>
          <td class="paramname"><em>configWord</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Transmisi贸n y recepci贸n de datos con el ADS1018 por SPI4. </p>
<p >IMPORTANTE: El ADS1018 opera sobre la l铆nea MISO no solo para transmitir sus lecturas, sino tambi茅n para indicar que termin贸 de realizar una conversi贸n. Esto lo hace poniendo en alto la l铆nea MISO cuando empieza a convertir y luego en bajo cuando termina, en ambos casos con ausencia de clock cuando se trata del modo de disparo 煤nico. Como se requiere realizar cuatro mediciones consecutivas, se debe generar un ciclo BAJO-ALTO-BAJO entre las mediciones de un tiempo suficientement corto como para que no se generen pulsos de clock. Esto se hace con un retardo bloqueante de alrededor de 600ns.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">configWord</td><td>Palabra de configuraci贸n para captura del ADS1018 </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>Valor adquirido seg煤n anterior palabra de configuraci贸n </dd></dl>
<p >Hace que el m贸dulo SPI genere un pulso de 600ns sobre la se帽al de habilitaci贸n</p>

</div>
</div>
</div><!-- contents -->
</div><!-- doc-content -->
<!-- start footer part -->
<div id="nav-path" class="navpath"><!-- id is needed for treeview function! -->
  <ul>
    <li class="navelem"><a class="el" href="dir_68267d1309a1af8e8297ef4c3efbcdba.html">src</a></li><li class="navelem"><a class="el" href="port_8c.html">port.c</a></li>
    <li class="footer">Generated by <a href="https://www.doxygen.org/index.html"><img class="footer" src="doxygen.svg" width="104" height="31" alt="doxygen"/></a> 1.9.5 </li>
  </ul>
</div>
</body>
</html>
